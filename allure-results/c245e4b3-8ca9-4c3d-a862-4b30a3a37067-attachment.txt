TC004 PASSED: Missing patientId parameter rejected
Status: 400 Error: {
  statusCode: 400,
  timestamp: '2025-11-11T09:26:37.155Z',
  path: '/api/v1/ehr/appointments',
  method: 'GET',
  message: '{"resourceType":"OperationOutcome","issue":[{"severity":"fatal","code":"required","details":{"coding":[{"system":"urn:oid:1.2.840.114350.1.13.0.1.7.2.657369","code":"59108","display":"A required element is missing."}],"text":"A required element is missing."},"location":["/f:patient"],"expression":["patient"]}]}',
  stack: 'Error: {"resourceType":"OperationOutcome","issue":[{"severity":"fatal","code":"required","details":{"coding":[{"system":"urn:oid:1.2.840.114350.1.13.0.1.7.2.657369","code":"59108","display":"A required element is missing."}],"text":"A required element is missing."},"location":["/f:patient"],"expression":["patient"]}]}\n' +
    '    at new EhrAdapterBadRequestError (/app/node_modules/@alethian-ehr-bridge/ehr-adapter/dist/types/errors/ehr-adapter-errors.js:8:9)\n' +
    '    at ErrorHandlerService.handleError (/app/node_modules/@alethian-ehr-bridge/adapter-api-epic/dist/common/services/errorhandler.service.js:41:23)\n' +
    '    at EpicAppointmentsService.getAllAppointments (/app/node_modules/@alethian-ehr-bridge/adapter-api-epic/dist/services/appointments/epic-appointments.service.js:154:60)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)',
  correlation_id: '8efd1d44-ec3f-4011-947d-77edc4b7e74a'
}
Error message: {"resourceType":"OperationOutcome","issue":[{"severity":"fatal","code":"required","details":{"coding":[{"system":"urn:oid:1.2.840.114350.1.13.0.1.7.2.657369","code":"59108","display":"A required element is missing."}],"text":"A required element is missing."},"location":["/f:patient"],"expression":["patient"]}]}
